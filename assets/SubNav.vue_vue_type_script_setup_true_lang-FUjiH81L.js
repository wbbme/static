import{e as C,j as R,p as L,q as y,o as n,g as s,h as r,s as o,F as b,v as P,x as z,a as l,t as c,c as $,w as m,y as F,z as V,A as E,B as Y,C as G,d as p,b as _,n as h}from"./app-NfkmQghJ.js";const O={key:0,py2:"",op50:""},T={"text-8em":"","color-transparent":"",absolute:"","left--3rem":"","top--2rem":"","font-bold":"","text-stroke-2":"","text-stroke-hex-aaa":"",op10:""},W={class:"no-underline",flex:"~ col md:row gap-2 md:items-center"},j={class:"title text-lg leading-1.2em",flex:"~ gap-2 wrap"},q={key:0,"align-middle":"","flex-none":"",class:"text-xs bg-zinc:15 text-zinc5 rounded px-1 py-0.5 ml--12 mr2 my-auto hidden md:block"},A={"align-middle":""},I={flex:"~ gap-2 items-center"},U={key:0,"align-middle":"",op50:"","flex-none":"","text-xs":"","ml--1":"","mt--1":"","i-carbon-arrow-up-right":"",title:"External"},H={key:1,"align-middle":"",op50:"","flex-none":"","i-ri:group-2-line":"",title:"In person"},J={key:2,"align-middle":"",op50:"","flex-none":"","i-ri:film-line":"",title:"Provided in video"},K={key:3,"align-middle":"",op50:"","flex-none":"","i-ri:radio-line":"",title:"Provided in radio"},M={"text-sm":"",op50:"","ws-nowrap":""},Q={key:4,"text-sm":"",op40:"","ws-nowrap":""},X={key:5,"text-sm":"",op40:"","ws-nowrap":""},Z={key:6,"text-sm":"",op40:"","ws-nowrap":"","md:hidden":""},ee={key:7,"align-middle":"","flex-none":"",class:"text-xs bg-zinc:15 text-zinc5 rounded px-1 py-0.5 my-auto md:hidden"},te={key:0,op50:"","text-sm":"",hidden:"","mt--2":"","md:block":""},re=C({__name:"ListPosts",props:{type:{},posts:{},extra:{}},setup(w){const i=w,g=R().getRoutes().filter(e=>e.path.startsWith("/posts")&&e.meta.frontmatter.date&&!e.meta.frontmatter.draft).filter(e=>!e.path.endsWith(".html")&&(e.meta.frontmatter.type||"blog").split("+").includes(i.type)).map(e=>({path:e.meta.frontmatter.redirect||e.path,title:e.meta.frontmatter.title,date:e.meta.frontmatter.date,lang:e.meta.frontmatter.lang,duration:e.meta.frontmatter.duration,recording:e.meta.frontmatter.recording,upcoming:e.meta.frontmatter.upcoming,redirect:e.meta.frontmatter.redirect,place:e.meta.frontmatter.place})),d=L(()=>[...i.posts||g,...i.extra||[]].sort((e,a)=>+new Date(a.date)-+new Date(e.date)).filter(e=>!y.value||e.lang!=="zh")),x=e=>new Date(e).getFullYear(),k=e=>e&&new Date(e)>new Date,S=(e,a)=>e&&a&&x(e)===x(a);function N(e,a){return k(e.date)===k(a==null?void 0:a.date)&&S(e.date,a==null?void 0:a.date)}function B(e){return k(e.date)?"Upcoming":x(e.date)}return(e,a)=>(n(),s("ul",null,[r(d).length?o("",!0):(n(),s("div",O," { nothing here yet } ")),(n(!0),s(b,null,P(r(d),(t,v)=>(n(),s(b,{key:t.path},[N(t,r(d)[v-1])?o("",!0):(n(),s("div",{key:0,"select-none":"",relative:"",h20:"","pointer-events-none":"","slide-enter":"",style:z({"--enter-stage":v-2,"--enter-step":"60ms"})},[l("span",T,c(B(t)),1)],4)),l("div",{class:"slide-enter",style:z({"--enter-stage":v,"--enter-step":"60ms"})},[(n(),$(E(t.path.includes("://")?"a":"RouterLink"),V(t.path.includes("://")?{href:t.path,target:"_blank",rel:"noopener noreferrer"}:{to:t.path},{class:"item block font-normal mb-6 mt-2 no-underline"}),{default:m(()=>[l("li",W,[l("div",j,[t.lang==="zh"?(n(),s("span",q,"中文")):o("",!0),l("span",A,c(t.title),1)]),l("div",I,[t.redirect?(n(),s("span",U)):o("",!0),t.inperson?(n(),s("span",H)):o("",!0),t.recording||t.video?(n(),s("span",J)):o("",!0),t.radio?(n(),s("span",K)):o("",!0),l("span",M,c(r(F)(t.date,!0)),1),t.duration?(n(),s("span",Q,"· "+c(t.duration),1)):o("",!0),t.platform?(n(),s("span",X,"· "+c(t.platform),1)):o("",!0),t.place?(n(),s("span",Z,"· "+c(t.place),1)):o("",!0),t.lang==="zh"?(n(),s("span",ee,"中文")):o("",!0)])]),t.place?(n(),s("div",te,c(t.place),1)):o("",!0)]),_:2},1040))],4)],64))),128))]))}}),ne={class:"prose m-auto mb-8 select-none animate-none! op100!"},se=["i"],ae={"mb-0":"",flex:"~ col gap-1 sm:row sm:gap-3 wrap","text-3xl":""},u="opacity-20 hover:opacity-50",f="opacity-100 underline",le=C({__name:"SubNav",setup(w){const i=Y();return(D,g)=>{const d=G("RouterLink");return n(),s("div",ne,[l("button",{flex:"~ gap1","items-center":"",mb2:"",op30:"","text-sm":"",onClick:g[0]||(g[0]=x=>y.value=!r(y))},[l("div",{i:r(y)?"carbon-checkbox-checked":"carbon-checkbox"},null,8,se),p(" English Only ")]),l("div",ae,[_(d,{to:"/posts",class:h(["!border-none",r(i).path==="/posts"?f:u])},{default:m(()=>[p(" Blog ")]),_:1},8,["class"]),_(d,{to:"/talks",class:h(["!border-none",r(i).path==="/talks"?f:u])},{default:m(()=>[p(" Talks ")]),_:1},8,["class"]),_(d,{to:"/podcasts",class:h(["!border-none",r(i).path==="/podcasts"?f:u])},{default:m(()=>[p(" Podcasts ")]),_:1},8,["class"]),_(d,{to:"/streams",class:h(["!border-none",r(i).path==="/streams"?f:u])},{default:m(()=>[p(" Streams ")]),_:1},8,["class"]),_(d,{to:"/notes",class:h(["!border-none",r(i).path==="/notes"?f:u])},{default:m(()=>[p(" Notes ")]),_:1},8,["class"])])])}}});export{le as _,re as a};

import{l as h,o as i,g as p,E as g,G as c,a as s,u as k,c as y,w as m,_,b as a,d as t,H as u}from"./app-NfkmQghJ.js";const A={},o=e=>(g("data-v-e51ab784"),e=e(),c(),e),w={viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f=o(()=>s("title",null,"Anthony Fu @ antfu.me",-1)),b=o(()=>s("path",{d:"M46.1438 41.1245C47.1438 32.6245 40.841 29.2545 33.341 38.0027C21.341 52 37.341 63 43.8251 46.6245C45.781 43.1245 46.1438 38.0027 46.1438 38.0027C45.5227 43.2757 44.3251 45.6045 44.3251 49.6245C44.3251 55.1245 46.8251 57.6245 51.8252 49.6245C57.8252 41.1245 67.9722 28.1245 69.8251 17.6245C71.3251 9.12447 68.3252 4.12447 62.3252 16.1245C56.3252 28.1245 48.3701 61.2691 50.3409 79.5C52.3409 98 61.8252 94.6245 59.8252 77.6245C58.2252 64.0245 49.6751 44.1245 45.1751 35.1245C47.5085 40.2911 53.3252 50.6245 62.3252 55.1245",stroke:"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),v=[f,b];function B(e,n){return i(),p("svg",w,v)}const C=h(A,[["render",B],["__scopeId","data-v-e51ab784"]]),I="/logo.svg",S="/images/animated-svg-logo-vector.png",x="/images/animated-svg-logo-redraw.png",V="/images/animated-svg-logo-mask.png",F={class:"prose m-auto slide-enter-content"},G=s("p",null,"I recently replaced the logo on the top left corner with an animated SVG:",-1),E={flex:""},D={href:"/favicon-animated.svg",target:"_blank","important-border-none":"",p4:"",ma:""},L=s("h2",{id:"inspiration",tabindex:"-1"},[t("Inspiration "),s("a",{class:"header-anchor",href:"#inspiration","aria-hidden":"true"},"#")],-1),M=s("p",null,[t("The first time I saw such stroke animations in SVG is the "),s("a",{href:"https://icones.js.org/collection/line-md",target:"_blank",rel:"noopener"},"Material Line Icons"),t(" by "),s("a",{href:"https://github.com/cyberalien",target:"_blank",rel:"noopener"},"Vjacheslav Trushkin"),t(". It was cool, but I never thought about making one my own until I saw "),s("a",{href:"https://muan.co/",target:"_blank",rel:"noopener"},"Mu-An Chiou"),t("’s "),s("a",{href:"https://muan.co/pages/banners",target:"_blank",rel:"noopener"},"banner"),t(" on her website. I suddenly feel like I want to be the cool guy too!")],-1),T=s("h2",{id:"breakdown",tabindex:"-1"},[t("Breakdown "),s("a",{class:"header-anchor",href:"#breakdown","aria-hidden":"true"},"#")],-1),W=s("p",null,[t("I downloaded Mu-An’s SVG to read the code, cross-referencing the Material Line Icons. I found the trick is quite interesting, they animated "),s("code",null,"stroke-dasharray"),t(" to achieve the effect. This feels quite unintuitive as when you check the "),s("a",{href:"https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dasharray",target:"_blank",rel:"noopener"},"MDN documentation"),t(", it looks like a pretty boring attribute.")],-1),j=s("p",null,"I searched a bit more and found these two interesting articles:",-1),$=s("ul",null,[s("li",null,[s("a",{href:"https://jakearchibald.com/2013/animated-line-drawing-svg/",target:"_blank",rel:"noopener"},"Animated line drawing in SVG"),t(" by Jake Archibald")]),s("li",null,[s("a",{href:"https://css-tricks.com/svg-line-animation-works/",target:"_blank",rel:"noopener"},"How SVG Line Animation Works"),t(" by Chris Coyier")])],-1),N=s("p",null,[t("They covered this technique very well, highly recommend reading them if you are interested. Basically, the animation is done by a "),s("strong",null,"very long"),t(" dash moving, in which you will see the dash as the drawing line and the gap as empty space. The length and position of the dash are controlled by "),s("code",null,"stroke-dasharray"),t(" and "),s("code",null,"stroke-dashoffset"),t(", which are both animatable.")],-1),q=s("h2",{id:"the-original-logo",tabindex:"-1"},[t("The Original Logo "),s("a",{class:"header-anchor",href:"#the-original-logo","aria-hidden":"true"},"#")],-1),H=s("p",null,[t("My original logo "),s("a",{href:"/logo.svg",target:"_blank","important-border-none":"","inline-block":""},[s("img",{src:I,"h-1.5em":"","dark:filter-invert":"","important-m0":"","inline-block":"",alt:"My Logo in SVG"})]),t(" comes from around 8 years ago, I draw it with a pressure-sensitive pen on my Surface Pro 4. It was used as a temporary placeholder for the portfolio I was trying to build at that time. I later image-traced it with Adobe Illustrator to get the SVG version. Surprising to recall, it has been so long since then.")],-1),z=s("div",{rounded:"",shadow:"","of-hidden":"",border:"~ base op20"},[s("img",{src:S,"dark:invert-95":"","important-m0":""})],-1),P=s("h2",{id:"rework-the-logo",tabindex:"-1"},[t("Rework the Logo "),s("a",{class:"header-anchor",href:"#rework-the-logo","aria-hidden":"true"},"#")],-1),J=s("p",null,[t("As we see, the animation is done by moving the dash on strokes, while my Logo is a vector outline with multiple control points. So I need to redraw it with a single stroke. It took a bit of practice to get used to the "),s("a",{href:"https://blog.openreplay.com/using-the-pen-tool-in-figma/",target:"_blank",rel:"noopener"},"pen tool"),t(", I managed to make it with Figma.")],-1),O=s("div",{rounded:"",shadow:"","of-hidden":"",border:"~ base op20"},[s("img",{src:x,"dark:invert-95":"","important-m0":""})],-1),R=s("p",null,"Manually adding the styles in the exported SVG,",-1),U=s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light",style:{"--s-dark":"#dbd7caee","--s-light":"#393a34","--s-dark-bg":"#121212","--s-light-bg":"#ffffff"},tabindex:"0"},[s("code",{class:"language-css"},[s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"@"),s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}},"media"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," ("),s("span",{style:{"--s-dark":"#DBD7CAEE","--s-light":"#393A34"}},"prefers-reduced-motion"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},")"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}},"  path"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    animation"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," none"),s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}}," !important"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," unset"),s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}}," !important"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"}")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"@"),s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}},"keyframes"),s("span",{style:{"--s-dark":"#BD976A","--s-light":"#B07D48"}}," grow"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  0%"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dashoffset"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 1"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 350"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    opacity"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  10%"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    opacity"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 1"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  40%"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 350"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#758575DD","--s-light":"#A0ADA0"}},"  /* Moving back */")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  85%"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 350"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  95%"),s("span",{style:{"--s-dark":"#DBD7CAEE","--s-light":"#393A34"}},",")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#80A665","--s-light":"#59873A"}},"  to"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"    stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 350"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"  }")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"}")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#4D9375","--s-light":"#1E754F"}},"path"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  stroke-dashoffset"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 1"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  stroke-dasharray"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 350"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"px"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  animation"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#DBD7CAEE","--s-light":"#393A34"}}," grow "),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}},"10"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"s"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," ease"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," forwards"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," infinite"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  transform-origin"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}}," center"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  stroke"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}}," #"),s("span",{style:{"--s-dark":"#C99076","--s-light":"#A65E2B"}},"303030"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#B8A965","--s-light":"#998418"}},"  animation-delay"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},":"),s("span",{style:{"--s-dark":"#4C9A91","--s-light":"#2F798A"}}," 0"),s("span",{style:{"--s-dark":"#CB7676","--s-light":"#AB5959"}},"s"),s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--s-dark":"#666666","--s-light":"#999999"}},"}")]),t(`
`),s("span",{class:"line"})])],-1),Z=s("p",null,"now we have a decent animated logo:",-1),K={flex:""},Q={href:"/favicon-animated-stroke.svg",target:"_blank","important-border-none":"",p4:"",ma:""},X=s("p",null,[t("The only downside is that the stroke is evenly thick everywhere, making it looks less like a signature. I tried to look for solutions and end up with the "),s("a",{href:"https://www.w3.org/Graphics/SVG/WG/wiki/Proposals/Variable_width_stroke",target:"_blank",rel:"noopener"},"Variable width stroke proposal"),t(", however, it does not seem to be going anywhere. Well, it’s stroke anyway, it’s supposed to be even. Giving the animation is super cool already, what else can I ask for?")],-1),Y=s("h2",{id:"variable-stroke-width",tabindex:"-1"},[t("Variable Stroke Width "),s("a",{class:"header-anchor",href:"#variable-stroke-width","aria-hidden":"true"},"#")],-1),ss=s("p",null,"When I almost gave up, I was playing around with Figma to do some final cleanup with the drafts, I suddenly realized that SVG does have mask support. So what if I have the original SVG shape as the mask, and let the stroke animate inside the mask? So I gave it a try and surprisingly it works!",-1),ts=s("div",{rounded:"",shadow:"","of-hidden":"",border:"~ base op20"},[s("img",{src:V,"dark:invert-95":"","important-m0":""})],-1),es=s("p",null,"Basically we are using the mask to limit the stroke’s visibility, a trick to workaround the limitation of the stroke width. Note it’s not 100% pixel-perfect, as in the interaction we can’t control the stroke width, so the stroke will be a bit off the mask. We can try to adjust the mask to make it look a bit better, but you will still see a big glitch when zooming in a lot. I guess it might be possible to solve this with multiple strokes and masks, but this one is already quite good to me.",-1),as={flex:""},ns={href:"/favicon-animated.svg",target:"_blank","important-border-none":"",p4:"",ma:""},ls=s("p",null,"Hope you enjoy the article, and I’d love to see your animated SVG logo too!",-1),hs={__name:"animated-svg-logo",setup(e){const n={title:"Animated SVG Logo",date:"2024-01-04T00:00:00.000Z",lang:"en",duration:"10min",image:"https://antfu.me/og/animated-svg-logo.png",meta:[{property:"og:title",content:"Animated SVG Logo"},{name:"twitter:title",content:"Animated SVG Logo"},{property:"og:image",content:"https://antfu.me/og/animated-svg-logo.png"},{name:"twitter:image",content:"https://antfu.me/og/animated-svg-logo.png"},{name:"twitter:card",content:"summary_large_image"}]};return k({title:"Animated SVG Logo",meta:[{property:"og:title",content:"Animated SVG Logo"},{name:"twitter:title",content:"Animated SVG Logo"},{property:"og:image",content:"https://antfu.me/og/animated-svg-logo.png"},{name:"twitter:image",content:"https://antfu.me/og/animated-svg-logo.png"},{name:"twitter:card",content:"summary_large_image"}]}),(os,rs)=>{const l=u,r=C,d=_;return i(),y(d,{frontmatter:n},{default:m(()=>[s("div",F,[G,s("p",E,[s("a",D,[a(l,{"w-30":""})])]),L,M,T,W,j,$,N,q,H,z,P,J,O,R,U,Z,s("p",K,[s("a",Q,[a(r,{"w-50":""})])]),X,Y,ss,ts,es,s("p",as,[s("a",ns,[a(l,{"w-50":""})])]),ls])]),_:1})}}};export{hs as default};

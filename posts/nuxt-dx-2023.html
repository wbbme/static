<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="author" content="Bob Wang"><meta http-equiv="X-UA-Compatible" content="chrome=1"><meta name="revisit-after" content="7 days"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.svg" type="image/svg+xml"><link rel="alternate" type="application/rss+xml" title="Bob Wang's Blog" href="/feed.xml"><meta name="msapplication-TileColor" content="#ffffff"><title>Development Experience with Nuxt</title><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" crossorigin="" src="/assets/app-NfkmQghJ.js"></script><link rel="stylesheet" crossorigin="" href="/assets/app-hL_ksGYg.css"><link rel="modulepreload" crossorigin="" href="/assets/nuxt-dx-2023-_mTDAJH3.js"><link rel="modulepreload" crossorigin="" href="/assets/Slidev-2fWv3Mwx.js"><meta property="og:title" content="Development Experience with Nuxt"><meta name="twitter:title" content="Development Experience with Nuxt"><meta name="description" content="Development Experience with Nuxt - Vue Amsterdam 2023"><meta property="og:description" content="Development Experience with Nuxt - Vue Amsterdam 2023"><meta name="twitter:description" content="Development Experience with Nuxt - Vue Amsterdam 2023"><meta property="og:image" content="https://antfu.me/og/nuxt-dx-2023.png"><meta name="twitter:image" content="https://antfu.me/og/nuxt-dx-2023.png"><meta name="twitter:card" content="summary_large_image"></head><body class="font-sans text-gray-700 dark:text-gray-200 relative"><div id="app" data-server-rendered="true"><!--[--><header class="header z-40" data-v-ca15ab0d=""><a href="/" class="absolute xl:fixed m-5 select-none outline-none" focusable="false" data-v-ca15ab0d=""><svg width="36" height="36" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-ca15ab0d="" data-v-5728e860=""><mask id="mask0_1299_11" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="11" y="18" width="77" height="64" data-v-5728e860=""><path d="M52.2536 75.2558C60.9986 80.2021 83.5148 80.2021 84.9522 68.4071C86.5287 55.4707 48.5788 43.042 47.3108 54.4868C46.0428 65.9317 84.1918 54.7097 83.0511 41.7732C81.9796 29.621 52.4649 26.3636 32.5417 37.9684C21.9604 44.1318 11.3085 56.2316 14.6122 69.929C17.2735 80.963 34.8266 82.2429 47.3108 71.0705C61.3382 58.517 64.7195 28.206 78.6674 21" stroke="black" stroke-width="4" stroke-linecap="round" data-v-5728e860=""></path></mask><g mask="url(#mask0_1299_11)" data-v-5728e860=""><path class="path1" d="M52.2536 75.2558C60.9986 80.2021 83.5148 80.2021 84.9522 68.4071C86.5287 55.4707 48.5788 43.042 47.3108 54.4868C46.0428 65.9317 84.1918 54.7097 83.0511 41.7732C81.9796 29.621 52.4649 26.3636 32.5417 37.9684C21.9604 44.1318 11.3085 56.2316 14.6122 69.929C17.2735 80.963 34.8266 82.2429 47.3108 71.0705C61.3382 58.517 64.7195 28.206 78.6674 21" stroke="black" stroke-width="4" stroke-linecap="round" data-v-5728e860=""></path></g></svg></a><button title="Scroll to top" fixed="" right-3="" bottom-3="" w-10="" h-10="" hover:op100="" rounded-full="" hover-bg-hex-8883="" transition="" duration-300="" z-100="" print:hidden="" class="op0! pointer-events-none" data-v-ca15ab0d=""><div i-ri-arrow-up-line="" data-v-ca15ab0d=""></div></button><nav class="nav" data-v-ca15ab0d=""><div class="spacer" data-v-ca15ab0d=""></div><div class="right" print:op0="" data-v-ca15ab0d=""><a href="/" class="" title="Home" data-v-ca15ab0d=""><span class="lt-md:hidden" data-v-ca15ab0d="">Home</span><div i-ri-article-line="" md:hidden="" data-v-ca15ab0d=""></div></a><a href="/posts" class="" title="Blog" data-v-ca15ab0d=""><span class="lt-md:hidden" data-v-ca15ab0d="">Blog</span><div i-ri-article-line="" md:hidden="" data-v-ca15ab0d=""></div></a><a href="/projects" class="" title="Projects" data-v-ca15ab0d=""><span class="lt-md:hidden" data-v-ca15ab0d="">Projects</span><div i-ri-lightbulb-line="" class="md:hidden" data-v-ca15ab0d=""></div></a><a href="/talks" class="lt-md:hidden" title="Talks" data-v-ca15ab0d="">Talks </a><a href="/podcasts" class="lt-md:hidden" title="Podcasts" data-v-ca15ab0d="">Podcasts </a><a href="/demos" class="" title="Demos" data-v-ca15ab0d=""><span class="lt-md:hidden" data-v-ca15ab0d="">Demos</span><div i-ri-screenshot-line="" class="md:hidden" data-v-ca15ab0d=""></div></a><a href="/chat" class="" title="Let's Chat" data-v-ca15ab0d=""><div i-ri-chat-1-line="" data-v-ca15ab0d=""></div></a><a href="/sponsors-list" class="" title="Sponsors" data-v-ca15ab0d=""><div i-ri-user-heart-line="" data-v-ca15ab0d=""></div></a><a href="https://github.com/wbbme" target="_blank" title="GitHub" class="lt-md:hidden" data-v-ca15ab0d=""><div i-uil-github-alt="" data-v-ca15ab0d=""></div></a><a href="https://twitter.com/wbbmex" target="_blank" title="Twitter" class="lt-md:hidden" data-v-ca15ab0d=""><div i-ri-twitter-x-fill="" data-v-ca15ab0d=""></div></a><a href="/feed.xml" target="_blank" title="RSS" class="lt-md:hidden" data-v-ca15ab0d=""><div i-la-rss-square="" style="font-size:1.25rem;margin:0 -.125rem" data-v-ca15ab0d=""></div></a><a class="select-none" title="Toggle Color Scheme" data-v-ca15ab0d=""><div i-ri-sun-line="" dark:i-ri-moon-line=""></div></a></div></nav></header><main class="px-7 py-10 of-x-hidden"><!--[--><!----><div class="prose m-auto mb-8"><h1 class="mb-0 slide-enter-50">Development Experience with Nuxt</h1><p class="opacity-50 !-mt-6 slide-enter-50">Feb 9, 2023 <span>· 25min</span></p><p class="mt--4!"><span op50="">at </span><a href="https://vuejs.amsterdam/" target="_blank">Vue Amsterdam 2023</a></p><!----><!----></div><article class=""><!--[--><div class="prose m-auto slide-enter-content"><blockquote><p>Slides: <a href="https://antfu.me/talks/2023-02-09" target="_blank" rel="noopener">PDF</a> | <a href="https://talks.antfu.me/2023/nuxt-devtools/" target="_blank" rel="noopener">SPA</a></p><p>Recording: <a href="https://youtu.be/W6hhU-Ws2Rg" target="_blank" rel="noopener">YouTube</a> | <a href="https://www.bilibili.com/video/BV1vx4y1V7VD" target="_blank" rel="noopener">Bilibili (中文)</a></p><p>Made with <svg width="1em" height="1em" viewBox="0 0 115 115" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M49 0C22.4903 0 1 21.4903 1 48C1 74.5097 22.4903 96 49 96C55.3727 96 61.4553 94.7581 67.0191 92.5032C66.7064 91.4797 66.3753 90.244 65.9767 88.7564L65.9767 88.7563L65.4177 86.67C60.3744 88.8139 54.8257 90 49 90C25.804 90 7 71.196 7 48C7 24.804 25.804 6 49 6C72.196 6 91 24.804 91 48C91 52.9545 90.1421 57.7087 88.5668 62.1221L91.7563 62.9767C92.7352 63.239 93.605 63.4721 94.3771 63.6899C96.0768 58.7733 97 53.4945 97 48C97 21.4903 75.5097 0 49 0Z" fill="currentColor"></path><path d="M60.127 66.925C58.9501 62.5327 58.3617 60.3366 58.9439 58.8199C59.4517 57.497 60.497 56.4517 61.8199 55.9439C63.3366 55.3617 65.5327 55.9501 69.925 57.127L91.7563 62.9767C96.1485 64.1536 98.3446 64.742 99.367 66.0046C100.259 67.1058 100.641 68.5338 100.42 69.9334C100.166 71.5379 98.5579 73.1456 95.3426 76.3609L79.3609 92.3426C76.1456 95.5579 74.5379 97.1656 72.9333 97.4197C71.5337 97.6414 70.1058 97.2588 69.0046 96.367C67.742 95.3446 67.1536 93.1485 65.9767 88.7563L60.127 66.925Z" stroke="currentColor" stroke-width="6" stroke-linejoin="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15 77.4799C15 84.2406 15.007 89.6274 15.5759 93.8588C16.1698 98.2762 17.4251 101.881 20.2721 104.728C23.1191 107.575 26.7238 108.83 31.1412 109.424C35.4258 110 40.895 110 47.7756 110H48H78H78.2244C85.105 110 90.5742 110 94.8588 109.424C99.2762 108.83 102.881 107.575 105.728 104.728C108.575 101.881 109.83 98.2762 110.424 93.8588C111 89.5742 111 84.105 111 77.2244V77V47V46.7756C111 39.895 111 34.4258 110.424 30.1412C109.83 25.7238 108.575 22.1191 105.728 19.2721C102.881 16.4251 99.2762 15.1698 94.8588 14.5759C90.6274 14.007 85.2406 14 78.4799 14C80.5813 15.8236 82.5119 17.8388 84.2446 20.0183C88.2661 20.0561 91.4469 20.1712 94.0593 20.5224C97.8114 21.0269 99.9389 21.9683 101.485 23.5147C103.032 25.0611 103.973 27.1886 104.478 30.9407C104.994 34.779 105 39.8441 105 47V77C105 84.1559 104.994 89.221 104.478 93.0593C103.973 96.8114 103.032 98.9389 101.485 100.485C99.9389 102.032 97.8114 102.973 94.0593 103.478C90.221 103.994 85.1559 104 78 104H48C40.8441 104 35.779 103.994 31.9407 103.478C28.1886 102.973 26.0611 102.032 24.5147 100.485C22.9683 98.9389 22.0269 96.8114 21.5224 93.0593C21.1712 90.4469 21.0561 87.2661 21.0183 83.2446C18.8388 81.5119 16.8236 79.5813 15 77.4799Z" fill="currentColor"></path></svg> <a href="https://github.com/slidevjs/slidev" target="_blank" rel="noopener"><strong>Slidev</strong></a> - presentation slides for developers.</p></blockquote><div><iframe class="lg:scale-120 lg:my-20 aspect-16/9 w-full rounded-lg shadow" src="https://www.youtube-nocookie.com/embed/W6hhU-Ws2Rg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe></div><h2 id="transcript" tabindex="-1">Transcript <a class="header-anchor" href="#transcript" aria-hidden="true">#</a></h2><p>Let’s talk about Developer Experience. These years we have heard about Developer Experience more and more often. Frameworks have put a lot of effort into improving Developer Experience, to make our work more efficient and productive, and of course, a better experience. Here I’d like to divide the big concept into different parts and see what we have done to really make a difference from a framework’s perspective.</p><hr><p>The first thing I am going to pick is "Responsiveness".</p><p>In Nuxt 3, we switched our default bundler to Vite, the tool well-known for its instant hot module replacement, or so call HMR. It allows you to see the change from your code to the app in nearly no time, and creates a great workflow and feedback loop.</p><p>On the server-side rendering, we use <code>vite-node</code>, the same engine that powers Vitest, to do the HMR on the server-side.</p><p>And finally, we introduced Nitro along with Nuxt 3, apart from many awesome features it provides, it also offers hot reload for server APIs on dev time. Remember the time you need to restart your node process every time you change to your backend API? It’s no longer the case with Nitro!</p><p>Combining all these tools, we are able to make your app reactive for any changes you make, no matter whether it’s client code, ssr, or server-side APIs.</p><hr><p>As a framework, Nuxt offers common practices built-in.</p><p>TypeScript and ESM are supported out-of-box, thanks to Vite.</p><p>Nuxt also makes it simple to build single-page application, server-side rendering, static site generation, or hybrid them per routes - using the same codebase isomorphically without any explicit setup.</p><p>Then we provided the layout system, plugins, route middlewares, etc., to make the app creation easier and your codebase better organized.</p><p>On top of that, we also provided a few composable utilities like <code>useState</code> and <code>useAsyncData</code>, and SEO utilities like <code>useHead</code> and <code>useSeoMeta</code> to make states accessible across the server and client sides.</p><p>Not to mention we also have one of the best backend integrations. With Nitro, you can deploy your Nuxt app to any hosting service like Vercel, Netlify, Cloudflare, etc., with zero-config!</p><p>All of these features are trying to provide the common practice and sensible defaults that you might need, out-of-box. And save you time going down the rabbit hole configuring them.</p><hr><p>And then to the cool part, we also introduced some conventions.</p><p>The first one is file-based routing, which allows you to have a multi-page app by simply creating the Vue component with the same structure in the filesystem.</p><p>Similarly, with the power of Nitro, we also have file-based server APIs, where you can create your serverless APIs in the same way as routing.</p><p>Then we add components auto-imports, components under the components folder will be directly available in any Vue file with the same name as their file name. And also, they will are code-splitted well.</p><p>And in Nuxt 3, we introduced compostables auto-import. It means you no longer need to type <code>import { ref } from 'vue'</code> in every component. APIs from Vue are directly available to you. 3rd party modules could also provide their custom composables to be auto-imported, and the same works for your local composables.</p><p>We also introduced client and server-only components. Making it easy, you can directly do it by adding <code>.client</code> and <code>.server</code> at the end of your component filename.</p><p>And finally, all those conventions are fully typed. You can even have type autocomplete when doing route navigation or fetching data from the APIs.</p><p>Conventions are introduced to greatly reduce the boilerplates you need to write and avoid duplications in your codebase. Which I see have significant benefits to boost your productivity.</p><hr><p>When it comes to the ecosystem, Nuxt has a large community to build modules around it. Look at these on our site, we have hundreds of high-quality modules for you to pick from, and all of them here are available to Nuxt 3. With modules, getting integrations for features you want is effortless. And they are taking care of the details and best practices for you.</p><hr><p>So, with so many great features we would have from a framework, there is, unfortunately, one problem - Transparency.</p><p>This might be considered a trade-off of having a framework or actually any tools. Every time we build some cool new features, we add a bit of abstraction to the framework. The abstraction is indeed a great thing to hide some implementation complexity from the users, but it sometimes could also create some extra burden for users to understand. And the conventions could sometimes lead to implicitness, where it’s not clear where a component is from, or who is using a certain component, etc. And of course, sometimes it can make things hard to debug.</p><p>So how can we improve this?</p><hr><p>To solve the same issue I had in Vite. I made the package called <code>vite-plugin-inspect</code>. It provides a UI for you to inspect the intermediated state of each plugin transformation of Vite. This makes the Vite pipeline transparent, and you can see how your code has been transformed step by step. If there is anything goes wrong, you can spot which plugin is causing that. (Demo a bit)</p><p>Since <code>vite-plugin-inspect</code> is for Vite, it can actually work with any framework or tools built on top of Vite, including Nuxt. However, because Vite is framework agnostic, the inspect feature is relatively low-level. It can be helpful in some cases, but it can also be quite limited.</p><hr><p>So, by having the context of Nuxt, let’s take one step forward -</p><p><strong>Introducing Nuxt DevTools!</strong></p><hr><p>Nuxt DevTools is a set of visual tools that help you to know your app better. It will enhance your overall developer experience with Nuxt. Providing more transparency to the conventions. We also wish it to be able to help you monitor the performance and find the bottleneck. It should be interactive and playful, and it would be great if it could be personalized documentation when you need it.</p><p>So that’s the plan. And it’s indeed a big plan to achieve. Today I am going to showcase to you a bit preview of the things we have been working on.</p><hr><p>Let’s go demo time!</p><p>So, here is a dev server of Elk, a Mastodon client built with Nuxt. Daniel already gave a great explanation in his talk. With Nuxt DevTools enabled, here we have a small Nuxt icon on the bottom to open up the DevTools. Click it we see it pop up on a panel right inside our app. Just be aware that this is a very early preview, we have quite a lot of features are not yet been implemented and many things might be changed.</p><p>Let’s get started. First, we will see a quick overview of your app, like which version you are using, and how many pages, components and composables you have. This is a barebone page for now but we will make it better.</p><p>So let’s quickly go through the features we have.</p><p>The first tab we have pages, here you can see your current route of your app, and all the routes available. You can quickly navigate between pages by simply clicking them. You can also use the text box to see how the route is matched. When it’s orange, it means you don’t have a page for that route. When it’s green, you can navigate to them by pressing enter.</p><p>Let’s go to the next components tabs. Here it lists all the components you have in your app, and either they are from the user components, registered at runtime, from Nuxt, or from 3rd-party libraries. You can search from them, can click to go the source file in your editor.</p><p>You can also see the components graph by clicking the button here. You see Elk is indeed a complex project that has a lot of components. You can click one component and filter the graph to see how this component is using the others.</p><p>Nuxt DevTools also integrated components inspector, where you can click the arrow button here and goes to your app, to know where an element is from. Click it, it will open the source code to the exact line of that component.</p><p>Then we have imports tabs to show all the auto-imported entries you have from different sources. For example, here you can see VueUse offers many functions and we are using some of them. Click into, you will see a short description of what it does, and a link to the documentation page of that specific function, and how many files are referencing it.</p><p>Go to the modules tab, you will see the modules you have installed. With their informations and links to the documentation. In the future, we plan to have some nice UI for you to install or even manage your modules with one-click.</p><p>Here we have all the plugins executed in order. This page is working in progress.</p><p>Then we have runtime configs and payload. Where you can see the data you have from <code>useRuntimeConfig()</code>, or the state you have from <code>useState()</code>, <code>useAsyncData()</code> etc. And they are reactive and editable. You can change the color mode by editing this here.</p><p>We have a hooks tab, to show you how Nuxt hooks been executed in both client side and server side, and how much time they cost. This could be helpful to find the bottleneck of your app or even help us to find bugs in Nuxt core.</p><p>Then we have virtual files from Nitro, the generated-code to support Nuxt’s convention. This is a bit advanced mostly for module authors.</p><p>And if you are already using vite-plugin-inspect, here for sure we have it built-in as well!</p><p>Alright, so that’s the feature we had for Nuxt DevTools right now. We hope you like them.</p><hr><p>Oh, almost forgot, we have one more thing!</p><hr><p>Nuxt DevTools is also designed to be flexible and extensible. That means modules can actually contribute to DevTools to present interactive information for their integrations. Here let me show you a few modules that support Nuxt DevTools right now.</p><p>The first one is VS Code, let’s click the "Start" button first. Thanks to VS Code Server, we are able to embed a fully featured VS Code into the DevTools, where you can sync with your vscode settings as your local, and all the extensions are available. With this, you are now able to edit your file without even leaving your app, for example, let’s change the title of Elk (edit NavTitle.vue). You see, it’s instant! You can also close the DevTools and open it back at any time.</p><p>Let’s go to the next one. When you have the VueUse module installed, the module will contribute a new tab to the DevTools, and this shows all functions of VueUse with instant search.</p><p>Similarly, we also have UnoCSS inspector, where you can see how each file uses the atomic CSS, and how CSS is generated.</p><p>And finally, with the <code>nuxt-vitest</code> module, that Daniel and I have been working on recently, allows you to run your tests alongside your dev server, using the exact same pipeline as your Nuxt app. Whenever you update your file, the test will automatically reruns so you can see the client get updated and the test result at the same time!</p><p>This is only something we have right now as a MVP. We see great potential on this and it would be hard to imagine how it would end up being. We would like to invite you to join us for brainstorming and bringing an even better developer experience to Nuxt.</p><hr><p>And so, the preview of Nuxt DevTools is open-sourced, right now! You can give it a star at <a href="https://github.com/nuxt/devtools" target="_blank"><span i-logos-nuxt-icon=""></span> Nuxt Devtools</a> and find the instructions there for trying it in your Nuxt apps.</p><p>That’s all for my talk. Thank you!</p></div><!--]--></article><div class="prose m-auto mt-8 mb-8 slide-enter animate-delay-500 print:hidden"><!--[--><span font-mono="" op50="">&gt; </span><span op50="">comment on </span><a href="https://elk.zone/intent/post?text=Reading%20%40antfu%40m.webtoo.ls's%20https%3A%2F%2Fantfu.me%2Fposts%2Fnuxt-dx-2023%0A%0AI%20think..." target="_blank" op50="">mastodon</a><span op25=""> / </span><a href="https://twitter.com/intent/tweet?text=Reading%20%40antfu7's%20https%3A%2F%2Fantfu.me%2Fposts%2Fnuxt-dx-2023%0A%0AI%20think..." target="_blank" op50="">twitter</a><!--]--><br><span font-mono="" op50="">&gt; </span><a href="/posts" class="font-mono op50 hover:op75"></a></div><!--]--><div class="mt-10 mb-6 prose m-auto flex slide-enter animate-delay-1200!"><span class="text-sm op50"><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" style="color:inherit">CC BY-NC-SA 4.0</a> 2018 - 2024 © WBB.ME</span><div class="flex-auto"></div></div></main><!----><!--]--></div><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></body></html>